<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Selective Availability</title>

	<style>
		#map { height: 100%; }
		#overlay {
			position: absolute;
			height: 100%;
			width: 100%;
			top: 0;
			left: 0;
			background-color: orange;
			opacity: 0.2;
			pointer-events: none;
		}

		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
		}
	</style>
</head>

<body>
	<div id="map"></div>
	<div id="overlay"></div>
	<canvas id="canvas"></canvas>

	<script src="node_modules/html2canvas/dist/html2canvas.js" charset="utf-8"></script>
	<script
  src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="
  crossorigin="anonymous"></script>
	<script>
		var map;
		function initMap() {
			map = new google.maps.Map(document.getElementById('map'), {
				center: {lat: 51.513085, lng: -0.2287173},
				zoom: 14
			});
		}

		setInterval(function(){
			html2canvas(document.getElementById('map'), {
				useCORS: true,
		    onrendered: function(canvas) {
		        // canvas is the final rendered <canvas> element
						var src = canvas.toDataURL()
						var ctx = $('#canvas')[0].getContext('2d');

						var image = new Image
						image.src = src
						image.onload = function(){
						   ctx.drawImage(image, 0, 0)
						}
		    },
			});
		}, 8000)
	</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdLHj1k7ReQ7pI5PgM1RzauJ5DUN_wHI8&callback=initMap" async defer></script>
	<!-- <script src="https://maps.googleapis.com/maps/api/js?callback=myMap"></script> -->
</body>
</html>
